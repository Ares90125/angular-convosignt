<div class="onboarding-head">
	<button
		class="back-button"
		data-cs-id="6af524d6-5064-4523-bc90-30200e24443f"
		(click)="
			recordButtonClick($event, null, null, {
				current_step: 3,
				onboarding_type: this.isPitch ? 'pitch' : 'profile'
			})
		"
		data-cs-label="Prev page"
		data-cs-source="page"
		type="button"
		[routerLink]="'/group-admin/campaigns/' + groupProfilePage?.groupId + '/profile-pages/'"
	>
		<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path
				d="M19.0005 11.0007H7.83047L12.7105 6.1207C13.1005 5.7307 13.1005 5.0907 12.7105 4.7007C12.3205 4.3107 11.6905 4.3107 11.3005 4.7007L4.71047 11.2907C4.32047 11.6807 4.32047 12.3107 4.71047 12.7007L11.3005 19.2907C11.6905 19.6807 12.3205 19.6807 12.7105 19.2907C13.1005 18.9007 13.1005 18.2707 12.7105 17.8807L7.83047 13.0007H19.0005C19.5505 13.0007 20.0005 12.5507 20.0005 12.0007C20.0005 11.4507 19.5505 11.0007 19.0005 11.0007Z"
				fill="#707084"
			/>
		</svg>
	</button>
	<div *ngIf="groupProfilePage" class="head-profile-data">
		<div class="head-profile-image">
			<img
				[fbEntityId]="groupProfilePage?.fbGroupId"
				alt=""
				class="banner-background"
				src="{{ groupProfilePage?.coverImageUrl }}"
			/>
		</div>
		<div class="head-profile-description">
			<h5 class="head-name-profile">
				{{ groupProfilePage?.name }}
			</h5>
			<span> {{ groupProfilePage?.keyStats.totalMembers | shortNumber }} members </span>
		</div>
	</div>
	<app-loading-shimmer *ngIf="!groupProfilePage" [type]="4"></app-loading-shimmer>
</div>

<div class="conversations-wrap">
	<div class="overview-header-wrap">
		<h1>
			{{
				isPitch ? 'Customize your topics for the target brand' : 'Show engaging conversations happening in your group'
			}}
		</h1>
		<svg width="78" height="4" viewBox="0 0 78 4" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path
				d="M76.8643 3C74.5916 3 74.5916 1 72.4096 1C70.137 1 70.137 3 67.955 3C65.6824 3 65.6824 1 63.5004 0.999999C61.2278 0.999999 61.2278 3 59.0458 3C56.7732 3 56.7732 0.999999 54.5912 0.999999C52.4092 0.999999 52.4092 3 50.1366 3C47.8639 3 47.8639 0.999999 45.6819 0.999999C43.5 0.999999 43.5 3 41.2273 3C38.9547 3 38.9547 0.999998 36.7727 0.999998C34.5001 0.999998 34.5001 3 32.3181 3C30.0455 3 30.0455 0.999998 27.8635 0.999998C25.5909 0.999998 25.5909 3 23.4089 3C21.1362 3 21.1362 0.999998 18.9543 0.999997C16.6816 0.999997 16.6816 3 14.4996 3C12.227 3 12.227 0.999997 10.045 0.999997C7.77239 0.999997 7.77239 3 5.5904 3C3.40841 3 3.31778 0.999997 1.13579 0.999997"
				stroke="#ADADB9"
				stroke-miterlimit="10"
				stroke-linecap="round"
				stroke-linejoin="round"
			/>
		</svg>
		<img *ngIf="!isPitch" src="assets/images/group_admin/group_docs.png" alt="" class="brand-img" />
	</div>

	<div *ngIf="isPitch" class="pitch-card-warning">
		<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path
				d="M10.0013 1.66602C5.4013 1.66602 1.66797 5.39935 1.66797 9.99935C1.66797 14.5993 5.4013 18.3327 10.0013 18.3327C14.6013 18.3327 18.3346 14.5993 18.3346 9.99935C18.3346 5.39935 14.6013 1.66602 10.0013 1.66602ZM10.0013 14.166C9.54297 14.166 9.16797 13.791 9.16797 13.3327V9.99935C9.16797 9.54102 9.54297 9.16602 10.0013 9.16602C10.4596 9.16602 10.8346 9.54102 10.8346 9.99935V13.3327C10.8346 13.791 10.4596 14.166 10.0013 14.166ZM10.8346 7.49935H9.16797V5.83268H10.8346V7.49935Z"
				fill="#E08E15"
			/>
		</svg>
		<p>
			Add conversation screenshots <strong>relevant to the brand your are pitching to</strong> to here to impress the
			brand.
		</p>
	</div>

	<div>
		<div *ngIf="!isPitch" class="edit-conversations-header">
			<h4 class="edit-conversations-title">Upload screenshots of the best conversations in your group below</h4>
			<button
				*ngIf="featureConversations?.length === 0"
				(click)="openSampleConversations($event)"
				class="convo-btn-primary convo-btn-normal"
				data-cs-id="f952e1ca-7076-48b4-b7e6-e7900d479dd5"
				data-cs-label="See sample conversations"
				data-cs-source="page"
			>
				<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path
						d="M8.00033 3C4.66699 3 1.82033 5.07333 0.666992 8C1.82033 10.9267 4.66699 13 8.00033 13C11.3337 13 14.1803 10.9267 15.3337 8C14.1803 5.07333 11.3337 3 8.00033 3ZM8.00033 11.3333C6.16033 11.3333 4.66699 9.84 4.66699 8C4.66699 6.16 6.16033 4.66667 8.00033 4.66667C9.84033 4.66667 11.3337 6.16 11.3337 8C11.3337 9.84 9.84033 11.3333 8.00033 11.3333ZM8.00033 6C6.89366 6 6.00033 6.89333 6.00033 8C6.00033 9.10667 6.89366 10 8.00033 10C9.10699 10 10.0003 9.10667 10.0003 8C10.0003 6.89333 9.10699 6 8.00033 6Z"
						fill="#3654FF"
					/>
				</svg>
				<span> See sample conversations </span>
			</button>
		</div>

		<div class="profile-card-body" [class.empty]="!featureConversations?.length" *ngIf="!isLoading">
			<div
				class="featured-conversations-posts-wrap"
				[class.disabled]="!groupProfilePage.showFeatureConversation"
				*ngIf="featureConversations?.length > 0"
			>
				<div [class.featured-conversation-disabled]="!groupProfilePage.showFeatureConversation">
					<div class="pills-wrap">
						<ng-container *ngFor="let conv of featureConversations; let i = index">
							<button
								class="pill"
								[class.active]="selectedPills === i"
								data-target="#show-tag-modal"
								*ngIf="isEditable || conv.showConversation"
								data-toggle="modal"
								data-cs-id="c902ab3a-169d-4bb7-969a-53fdf64e51db"
								data-cs-label="Topic pills"
								data-cs-source="page"
								(click)="selectConversationToDisplay(conv, i, $event)"
							>
								{{ conv?.topicName }}
							</button>
						</ng-container>
					</div>
					<ul class="list-unstyled">
						<li *ngFor="let convScreenShot of conversation?.screenShots | slice: 0:3; let i = index">
							<ng-container *ngIf="conversation?.showConversation; else hiddenImage">
								<img
									[src]="convScreenShot?.screenShotUrl"
									(click)="openImageGallery($event, i, conversation?.screenShots)"
									data-cs-id="acc903ec-2090-44cf-a2f5-edc56ed96e7b"
									data-cs-label="See screenshots"
									data-cs-source="page"
									alt=""
									class="screenshot-img"
								/>
							</ng-container>
						</li>
					</ul>

					<ng-template #hiddenImage>
						<ul class="list-unstyled">
							<li class="overlay-state-wrap">
								<img alt="" class="overlay-image" src="./assets/images/hidden-conversation-state.png" />
								<div class="hidden-state">
									<img alt="" src="./assets/images/visibility_off.svg" />
									<span>Hidden</span>
								</div>
							</li>
						</ul>

						<!-- <img src="./assets/images/no-conversations.png" alt="" /> -->
					</ng-template>
					<div class="conversation-panel">
						<button
							class="convo-btn-primary convo-btn-normal screenshot-btn"
							data-cs-id="5aa7f792-3f23-4ca3-9fb1-fcc85d88c619"
							data-cs-label="See screenshots"
							data-cs-source="page"
							*ngIf="conversation?.showConversation"
							(click)="openImageGallery($event, selectedPills, conversation?.screenShots)"
						>
							<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path
									d="M10.0391 2L11.5724 3.53333L9.64573 5.44667L10.5924 6.39333L12.5057 4.46667L14.0391 6V2H10.0391ZM2.03906 6L3.5724 4.46667L5.48573 6.39333L6.4324 5.44667L4.50573 3.53333L6.03906 2H2.03906V6ZM6.03906 14L4.50573 12.4667L6.4324 10.5533L5.48573 9.60667L3.5724 11.5333L2.03906 10V14H6.03906ZM14.0391 10L12.5057 11.5333L10.5924 9.60667L9.64573 10.5533L11.5724 12.4667L10.0391 14H14.0391V10Z"
									fill="white"
								/>
							</svg>
							<span>See screenshots</span>
						</button>
						<button
							class="convo-btn-primary convo-btn-normal edit-conv-btn"
							data-cs-id="9eb23971-3f9b-485e-bdfe-da373e9211a1"
							data-cs-label="See screenshots"
							data-cs-source="page"
							*ngIf="conversation?.showConversation"
							(click)="editTopicModel($event, selectedPills)"
						>
							<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path
									d="M2.03906 11.6397V13.6664C2.03906 13.853 2.18573 13.9997 2.3724 13.9997H4.39906C4.48573 13.9997 4.5724 13.9664 4.6324 13.8997L11.9124 6.62638L9.4124 4.12638L2.13906 11.3997C2.0724 11.4664 2.03906 11.5464 2.03906 11.6397ZM13.8457 4.69305C14.1057 4.43305 14.1057 4.01305 13.8457 3.75305L12.2857 2.19305C12.0257 1.93305 11.6057 1.93305 11.3457 2.19305L10.1257 3.41305L12.6257 5.91305L13.8457 4.69305Z"
									fill="#707084"
								/>
							</svg>
						</button>
						<button
							*ngIf="conversation?.showConversation"
							class="convo-btn-primary convo-btn-normal edit-conv-btn"
							data-cs-id="5bd01167-e41f-469d-b69b-bfba72b96613"
							data-cs-label="See screenshots"
							data-cs-source="page"
							(click)="openDeleteTopicConfirmation($event, selectedPills)"
						>
							<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path
									d="M4.03776 12.6667C4.03776 13.4 4.63776 14 5.37109 14H10.7044C11.4378 14 12.0378 13.4 12.0378 12.6667V6C12.0378 5.26667 11.4378 4.66667 10.7044 4.66667H5.37109C4.63776 4.66667 4.03776 5.26667 4.03776 6V12.6667ZM6.03776 6H10.0378C10.4044 6 10.7044 6.3 10.7044 6.66667V12C10.7044 12.3667 10.4044 12.6667 10.0378 12.6667H6.03776C5.67109 12.6667 5.37109 12.3667 5.37109 12V6.66667C5.37109 6.3 5.67109 6 6.03776 6ZM10.3711 2.66667L9.89776 2.19333C9.77776 2.07333 9.60443 2 9.43109 2H6.64443C6.47109 2 6.29776 2.07333 6.17776 2.19333L5.70443 2.66667H4.03776C3.67109 2.66667 3.37109 2.96667 3.37109 3.33333C3.37109 3.7 3.67109 4 4.03776 4H12.0378C12.4044 4 12.7044 3.7 12.7044 3.33333C12.7044 2.96667 12.4044 2.66667 12.0378 2.66667H10.3711Z"
									fill="#707084"
								/>
							</svg>
						</button>
					</div>
				</div>

				<div [hidden]="groupProfilePage.showFeatureConversation" class="hidden-state">
					<img alt="" src="./assets/images/visibility_off.svg" />
					<span>This section is hidden</span>
				</div>
			</div>
		</div>

		<div class="edit-conversation-frame" *ngIf="featureConversations.length < 5">
			<p *ngIf="!featureConversations.length" class="no-conversation-desc">
				Brands love to see conversations related to their category happening in your group. Showcase those conversation
				screenshots here.
			</p>
			<button
				class="convo-btn-primary convo-btn-normal"
				(click)="showAddTopicModal($event)"
				data-cs-id="c61f1542-ff6d-44fa-bc16-c9b67f0e5c27"
				data-cs-label="Upload a screenshot"
				data-cs-source="page"
			>
				<svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path
						d="M10.5003 1.6665C5.90033 1.6665 2.16699 5.39984 2.16699 9.99984C2.16699 14.5998 5.90033 18.3332 10.5003 18.3332C15.1003 18.3332 18.8337 14.5998 18.8337 9.99984C18.8337 5.39984 15.1003 1.6665 10.5003 1.6665ZM14.667 10.8332H11.3337V14.1665H9.66699V10.8332H6.33366V9.1665H9.66699V5.83317H11.3337V9.1665H14.667V10.8332Z"
						fill="#68C984"
					/>
				</svg>
				<span> {{ !featureConversations.length ? 'Upload a screenshot' : 'Add another topic' }} </span>
			</button>
		</div>
	</div>
	<app-onboarding-step-nav
		[currentStep]="2"
		[isPitch]="isPitch"
		[extraRecordEventData]="extraRecordEventData"
		[fetching]="stageFetching"
		(nextStep)="nextStepHandler()"
		(prevStep)="prevStepHandler()"
	></app-onboarding-step-nav>
</div>

<app-skip-step-modal
	*ngIf="!isPitch"
	[isOpen]="isSkipModalOpen"
	(closeModal)="closeSkipModal()"
	(skipStep)="nextStep.next(true)"
></app-skip-step-modal>

<div class="modal file-alert add-topic-modal" *ngIf="showAddFeatureTopic">
	<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">
					<button
						(click)="saveConversation($event)"
						data-cs-id="8797e48d-4ee4-4159-8183-aa6c5811f05e"
						data-cs-label="Back"
						data-cs-source="dialog"
					>
						<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M19.0005 10.9988H7.83047L12.7105 6.11875C13.1005 5.72875 13.1005 5.08875 12.7105 4.69875C12.3205 4.30875 11.6905 4.30875 11.3005 4.69875L4.71047 11.2888C4.32047 11.6788 4.32047 12.3087 4.71047 12.6987L11.3005 19.2888C11.6905 19.6788 12.3205 19.6788 12.7105 19.2888C13.1005 18.8988 13.1005 18.2687 12.7105 17.8787L7.83047 12.9987H19.0005C19.5505 12.9987 20.0005 12.5487 20.0005 11.9988C20.0005 11.4488 19.5505 10.9988 19.0005 10.9988Z"
								fill="#707084"
							/>
						</svg>
					</button>
					<span>Edit topic</span>
				</h5>
				<button
					type="button"
					(click)="closeAllFeaturePopup($event)"
					data-cs-id="82cb4557-9a9e-4577-8dc0-07ecb5148f7e"
					data-cs-label="Close"
					data-cs-source="dialog"
				>
					<img alt="" src="./assets/images/close-icon.svg" />
				</button>
			</div>
			<div class="topic-head">
				<form [formGroup]="topicForm">
					<div class="input-wrap">
						<label>Topic name <sup>*</sup></label>
						<div class="input-row">
							<input
								type="text"
								name="topic"
								formControlName="topic"
								maxlength="30"
								[appFocusInput]="true"
								class="convo-input"
								placeholder="Example: Food"
							/>
							<button
								class="convo-btn-normal convo-btn-primary"
								[disabled]="
									topicForm.invalid ||
									(conversation | json) === '{}' ||
									conversation?.screenShots?.length === 0 ||
									uploading
								"
								data-cs-id="a5e86414-e718-48f0-a2da-0c787c08c144"
								data-cs-label="Done"
								data-cs-source="dialog"
								(click)="saveConversation($event)"
							>
								Done
							</button>
						</div>
					</div>
				</form>
			</div>
			<div class="modal-body p-0">
				<div class="topic-wrap">
					<div class="modal-body p-0">
						<div class="topic-wrap">
							<div class="topic-body">
								<div class="error-info-box" *ngIf="uploadFileError || uploadTypeError">
									<div>
										<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path
												d="M7.33301 9.9987H8.66634V11.332H7.33301V9.9987ZM7.33301 4.66536H8.66634V8.66536H7.33301V4.66536ZM7.99301 1.33203C4.31301 1.33203 1.33301 4.3187 1.33301 7.9987C1.33301 11.6787 4.31301 14.6654 7.99301 14.6654C11.6797 14.6654 14.6663 11.6787 14.6663 7.9987C14.6663 4.3187 11.6797 1.33203 7.99301 1.33203ZM7.99967 13.332C5.05301 13.332 2.66634 10.9454 2.66634 7.9987C2.66634 5.05203 5.05301 2.66536 7.99967 2.66536C10.9463 2.66536 13.333 5.05203 13.333 7.9987C13.333 10.9454 10.9463 13.332 7.99967 13.332Z"
												fill="#EB5757"
											/>
										</svg>
										<span
											>The file you selected is<span *ngIf="uploadFileError"> too large to upload</span
											><span *ngIf="uploadTypeError"> not a valid image file</span>. Please upload a
											<strong>PNG</strong> or <strong>JPG</strong> file less than <strong>300MB</strong>.</span
										>
									</div>
									<button
										(click)="
											recordButtonClick($event, null, null, extraRecordEventData, groupProfilePage);
											uploadTypeError = false;
											uploadFileError = false
										"
										data-cs-id="be6fe152-eb24-4b77-82ec-6498bfa04843"
										data-cs-label="Close"
										data-cs-source="dialog"
										type="button"
									>
										<img alt="" src="./assets/images/close-icon.svg" />
									</button>
								</div>
								<div class="col-row post-url" *ngIf="showPostUrlField">
									<!-- post url section -->
									<div class="post-url-box">
										<div class="heading-row">
											<h6>Generate screenshot using post URL</h6>
											<button
												(click)="
													recordButtonClick($event, null, null, extraRecordEventData, groupProfilePage);
													showPostUrlField = false
												"
												data-cs-id="796b7281-db13-45d4-9329-489626b8e65d"
												data-cs-label="Close"
												data-cs-source="dialog"
												type="button"
											>
												<img alt="" src="./assets/images/close-icon.svg" />
											</button>
										</div>

										<div class="post-url-form">
											<form [formGroup]="postUrlForm">
												<div class="input-wrap">
													<div class="input-row">
														<input
															type="text"
															(delayedInput)="processMetaInfo($event)"
															appDelayedInput
															name="postUrl"
															[appFocusInput]="true"
															formControlName="postUrl"
															class="convo-input"
															placeholder="Paste URL to the conversation post here.."
														/>
													</div>
													<span class="input-error" *ngIf="showErrorOnPostUrlForm"
														>Please enter URL in the correct format as shown below</span
													>
												</div>
											</form>
										</div>
										<div class="post-form-info-wrapper">
											<p class="info-field m-0">
												<ng-container *ngIf="postUrlState === 'initialState'">
													<div class="post-form-info state-color-1">
														<svg
															width="16"
															height="16"
															viewBox="0 0 16 16"
															fill="none"
															xmlns="http://www.w3.org/2000/svg"
														>
															<path
																d="M7.33301 6.0013H8.66634V4.66797H7.33301V6.0013ZM7.33301 11.3346H8.66634V7.33464H7.33301V11.3346ZM7.99301 14.668C4.31301 14.668 1.33301 11.6813 1.33301 8.0013C1.33301 4.3213 4.31301 1.33464 7.99301 1.33464C11.6797 1.33464 14.6663 4.3213 14.6663 8.0013C14.6663 11.6813 11.6797 14.668 7.99301 14.668ZM7.99967 2.66797C5.05301 2.66797 2.66634 5.05464 2.66634 8.0013C2.66634 10.948 5.05301 13.3346 7.99967 13.3346C10.9463 13.3346 13.333 10.948 13.333 8.0013C13.333 5.05464 10.9463 2.66797 7.99967 2.66797Z"
																fill="#3654FF"
															/>
														</svg>
														<span
															><strong>Example:</strong>
															https://facebook.com/groups/fbgroupgrowth/posts/909733499732821/</span
														>
													</div>
												</ng-container>
												<ng-container *ngIf="postUrlState === 'processingState'">
													<div class="post-form-info state-color-2">
														<span class="spinner"></span>
														<span>Generating screenshot from URL...</span>
													</div>
												</ng-container>
												<ng-container *ngIf="postUrlState === 'successState'">
													<div class="post-form-info state-color-3">
														<svg
															width="20"
															height="20"
															viewBox="0 0 20 20"
															fill="none"
															xmlns="http://www.w3.org/2000/svg"
														>
															<path
																d="M9.99996 1.66699C5.39996 1.66699 1.66663 5.40033 1.66663 10.0003C1.66663 14.6003 5.39996 18.3337 9.99996 18.3337C14.6 18.3337 18.3333 14.6003 18.3333 10.0003C18.3333 5.40033 14.6 1.66699 9.99996 1.66699ZM8.33329 14.167L4.16663 10.0003L5.34163 8.82533L8.33329 11.8087L14.6583 5.48366L15.8333 6.66699L8.33329 14.167Z"
																fill="#24A95A"
															/>
														</svg>

														<span>Screenshot generated successfully!</span>
													</div>
												</ng-container>
												<ng-container *ngIf="postUrlState === 'errorState'">
													<div class="post-form-info state-color-4">
														<svg
															width="16"
															height="16"
															viewBox="0 0 16 16"
															fill="none"
															xmlns="http://www.w3.org/2000/svg"
														>
															<path
																d="M7.33301 9.9987H8.66634V11.332H7.33301V9.9987ZM7.33301 4.66536H8.66634V8.66536H7.33301V4.66536ZM7.99301 1.33203C4.31301 1.33203 1.33301 4.3187 1.33301 7.9987C1.33301 11.6787 4.31301 14.6654 7.99301 14.6654C11.6797 14.6654 14.6663 11.6787 14.6663 7.9987C14.6663 4.3187 11.6797 1.33203 7.99301 1.33203ZM7.99967 13.332C5.05301 13.332 2.66634 10.9454 2.66634 7.9987C2.66634 5.05203 5.05301 2.66536 7.99967 2.66536C10.9463 2.66536 13.333 5.05203 13.333 7.9987C13.333 10.9454 10.9463 13.332 7.99967 13.332Z"
																fill="#EB5757"
															/>
														</svg>
														<span>An unknown error occured while generating screenshot. Try again later.</span>
													</div>
												</ng-container>
											</p>
										</div>
									</div>
								</div>
								<div
									class="col-row-wrap"
									[class.max-box-condition]="(conversation | json) !== '{}' && conversation?.screenShots?.length > 4"
									[class.one-box-condition]="
										(conversation | json) !== '{}' &&
										((conversation?.screenShots?.length === 1 && !previewImage) ||
											(previewImage && conversation?.screenShots?.length === 0))
									"
								>
									<div
										class="col-row lg-width"
										[class.initial-box]="
											(conversation | json) === '{}' || (conversation?.screenShots?.length === 0 && !previewImage)
										"
										*ngIf="(!conversation?.screenShots || conversation?.screenShots?.length < 5) && !showPostUrlField"
									>
										<div
											class="info-box"
											[class.large-width]="renderedOn === 'Desktop'"
											*ngIf="((conversation | json) === '{}' || conversation?.screenShots?.length === 0) && !uploading"
										>
											<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
												<path
													d="M7.83301 9.9987H9.16634V11.332H7.83301V9.9987ZM7.83301 4.66536H9.16634V8.66536H7.83301V4.66536ZM8.49301 1.33203C4.81301 1.33203 1.83301 4.3187 1.83301 7.9987C1.83301 11.6787 4.81301 14.6654 8.49301 14.6654C12.1797 14.6654 15.1663 11.6787 15.1663 7.9987C15.1663 4.3187 12.1797 1.33203 8.49301 1.33203ZM8.49967 13.332C5.55301 13.332 3.16634 10.9454 3.16634 7.9987C3.16634 5.05203 5.55301 2.66536 8.49967 2.66536C11.4463 2.66536 13.833 5.05203 13.833 7.9987C13.833 10.9454 11.4463 13.332 8.49967 13.332Z"
													fill="#A26700"
												/>
											</svg>
											<span
												><strong>Add at least one screenshot </strong>to this topic to save changes (<strong
													>max. 5
												</strong>
												screenshots)</span
											>
										</div>
										<div class="upload-screenshot-box">
											<figure><img src="./assets/images/add-photo-icon.svg" alt="" /></figure>
											<h6>Add new screenshot</h6>
											<button
												class="convo-btn-normal convo-btn-bordered"
												data-cs-id="5e7e616a-6cea-4bbf-bbe9-6152d4f6670d"
												data-cs-label="Upload a screenshot"
												data-cs-source="dialog"
												(click)="recordButtonClick($event, null, null, extraRecordEventData, groupProfilePage)"
											>
												<input
													(change)="fileChange($event)"
													class="input-file"
													title=""
													type="file"
													accept=".jpg,.jpeg,.png"
												/>

												<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
													<path
														d="M6.49674 10.6667H10.4967V6.66667H13.1634L8.49675 2L3.83008 6.66667H6.49674V10.6667ZM3.83008 12H13.1634V13.3333H3.83008V12Z"
														fill="#3654FF"
													/>
												</svg>
												<span>Upload a screenshot</span>
											</button>
											<button
												*ngIf="groupState === 'Installed'"
												class="convo-btn-normal convo-btn-bordered"
												data-cs-id="7104510b-b3e4-49c3-9d92-9ee3db2901b0"
												data-cs-label="Paste post URL"
												data-cs-source="dialog"
												(click)="showPostUrlSection($event)"
											>
												<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
													<path
														d="M9.42768 1.9567L8.59873 2.78096C7.49345 3.87998 7.3553 5.5285 8.18425 6.6733L7.12503 7.72653C5.9737 6.85647 4.31579 7.03964 3.25657 8.09286L2.42762 8.91712C1.23024 10.1077 1.18419 12.031 2.33551 13.1758C2.88815 13.7253 3.625 14.0001 4.36185 14.0001C5.14475 14.0001 5.9737 13.6795 6.57239 13.0842L7.40135 12.26C8.50662 11.1609 8.64478 9.51242 7.81583 8.36762L8.87505 7.3144C9.38163 7.68073 9.98032 7.8639 10.533 7.8639C11.3159 7.8639 12.1448 7.54336 12.7435 6.94806L13.5725 6.1238C14.7698 4.9332 14.8159 3.00993 13.6646 1.86512C12.5593 0.674521 10.6251 0.720313 9.42768 1.9567ZM6.75661 11.5731L5.92765 12.3973C5.05264 13.2674 3.76316 13.3132 2.9342 12.5347C2.1513 11.7562 2.19735 10.4283 3.02631 9.60401L3.85526 8.77975C4.31579 8.32183 4.86843 8.13866 5.42107 8.13866C5.78949 8.13866 6.11186 8.23024 6.43424 8.41341L5.55923 9.28346C5.37501 9.46663 5.37501 9.74138 5.55923 9.92455C5.65133 10.0161 5.78949 10.0619 5.8816 10.0619C5.9737 10.0619 6.11186 10.0161 6.20397 9.92455L7.07898 9.0545C7.58556 9.78718 7.4474 10.8862 6.75661 11.5731ZM12.9277 5.43691L12.0988 6.26117C11.3619 6.99385 10.3027 7.13123 9.51979 6.62751L10.3948 5.75746C10.579 5.57429 10.579 5.29954 10.3948 5.11637C10.2106 4.9332 9.93427 4.9332 9.75006 5.11637L8.87505 5.98642C8.41452 5.20795 8.55268 4.10894 9.24347 3.42206L10.0724 2.5978C10.533 2.13987 11.0856 1.9567 11.6382 1.9567C12.1448 1.9567 12.6514 2.13987 13.0198 2.50621C13.8488 3.28468 13.8027 4.56686 12.9277 5.43691Z"
														fill="#3654FF"
													/>
													<path
														fill-rule="evenodd"
														clip-rule="evenodd"
														d="M13.8444 1.69137C12.631 0.388642 10.5346 0.456235 9.24978 1.78105L8.42245 2.60369C7.29116 3.72857 7.09304 5.4035 7.86185 6.64133L7.09692 7.40193C5.84905 6.59529 4.16504 6.83699 3.0803 7.91559L2.25134 8.73985C0.963238 10.0207 0.902204 12.1032 2.15924 13.3531C2.76192 13.9524 3.5636 14.2501 4.36185 14.2501C5.20901 14.2501 6.10188 13.9046 6.74867 13.2615L7.57762 12.4372C8.70892 11.3124 8.90704 9.63742 8.13823 8.39959L8.90589 7.63628C9.41444 7.954 9.99143 8.1139 10.533 8.1139C11.3801 8.1139 12.273 7.76846 12.9198 7.12534L13.7487 6.30108C15.0356 5.02147 15.0978 2.94168 13.8444 1.69137ZM13.4813 2.03521C12.4842 0.961095 10.7162 0.985572 9.60727 2.13062L9.60399 2.13401L8.775 2.95824C7.75115 3.9763 7.63472 5.48813 8.38674 6.52668L8.51213 6.69984L7.14743 8.05681L6.97431 7.92598C5.93315 7.13918 4.4138 7.29475 3.43285 8.27014L2.60389 9.0944C1.49724 10.1948 1.46617 11.9588 2.51179 12.9985C3.01438 13.4983 3.6864 13.7501 4.36185 13.7501C5.08049 13.7501 5.84553 13.4544 6.39612 12.9069L7.22508 12.0827C8.24893 11.0646 8.36536 9.5528 7.61334 8.51424L7.48795 8.34108L8.84941 6.98734L9.02154 7.11182C9.48575 7.44751 10.0332 7.6139 10.533 7.6139C11.2516 7.6139 12.0166 7.31825 12.5672 6.77078L13.3962 5.94652C14.5028 4.84614 14.5339 3.08209 13.4883 2.0424L13.4813 2.03521ZM11.6382 2.2067C11.1442 2.2067 10.6573 2.36874 10.2487 2.77507L9.41975 3.59933C8.89326 4.12284 8.7329 4.91567 8.95187 5.55748L9.57378 4.93909C9.85551 4.65896 10.2893 4.65896 10.5711 4.93909C10.8536 5.22 10.8536 5.65382 10.5711 5.93474L9.93951 6.56273C10.5737 6.81149 11.3482 6.65489 11.9225 6.0839L12.7514 5.25964C13.5425 4.47303 13.5585 3.35501 12.8487 2.68845L12.8435 2.68356C12.5272 2.36904 12.0866 2.2067 11.6382 2.2067ZM9.89615 2.42052C10.4086 1.911 11.027 1.7067 11.6382 1.7067C12.2019 1.7067 12.7733 1.90996 13.1935 2.3264C14.1389 3.21698 14.062 4.66156 13.104 5.61419L12.275 6.43845C11.4649 7.244 10.2775 7.41227 9.38452 6.83776L9.123 6.6695L10.2185 5.58018C10.3044 5.49476 10.3044 5.37907 10.2185 5.29365C10.1318 5.20744 10.013 5.20744 9.92633 5.29365L8.82348 6.39025L8.65988 6.11371C8.13888 5.23303 8.29841 4.00921 9.0672 3.24478L9.89615 2.42052ZM5.42107 8.38866C4.92702 8.38866 4.44018 8.55069 4.03154 8.95703L3.20258 9.78129C2.46181 10.5179 2.43663 11.6844 3.10796 12.3549C3.82935 13.0297 4.96338 13.0036 5.75138 12.2201L6.58033 11.3958C7.11264 10.8665 7.26435 10.0734 7.01869 9.467L6.38024 10.1018C6.23809 10.2432 6.0351 10.3119 5.8816 10.3119C5.72809 10.3119 5.5251 10.2432 5.38295 10.1018C5.10044 9.82092 5.10044 9.3871 5.38295 9.10618L6.0044 8.48826C5.81853 8.42133 5.62848 8.38866 5.42107 8.38866ZM3.67899 8.60247C4.19141 8.09296 4.80984 7.88866 5.42107 7.88866C5.83596 7.88866 6.20058 7.99311 6.55774 8.19605L6.84389 8.35863L5.7355 9.46074C5.64959 9.54616 5.64959 9.66185 5.7355 9.74728C5.75305 9.76473 5.78007 9.78226 5.81281 9.79529C5.8466 9.80873 5.87272 9.81193 5.8816 9.81193C5.89047 9.81193 5.9166 9.80873 5.95039 9.79529C5.98313 9.78226 6.01014 9.76473 6.0277 9.74728L7.11464 8.66649L7.28461 8.91232C7.86849 9.75679 7.6985 10.9891 6.93288 11.7504L6.10393 12.5746C5.14286 13.5302 3.69971 13.5966 2.76306 12.717L2.75786 12.7121C1.86596 11.8252 1.93382 10.3378 2.85003 9.42673L3.67899 8.60247Z"
														fill="#3654FF"
													/>
												</svg>
												<span>Paste post URL</span>
											</button>
										</div>
									</div>

									<div class="info-box" *ngIf="(conversation | json) !== '{}' && conversation?.screenShots?.length > 4">
										<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path
												d="M7.83301 9.9987H9.16634V11.332H7.83301V9.9987ZM7.83301 4.66536H9.16634V8.66536H7.83301V4.66536ZM8.49301 1.33203C4.81301 1.33203 1.83301 4.3187 1.83301 7.9987C1.83301 11.6787 4.81301 14.6654 8.49301 14.6654C12.1797 14.6654 15.1663 11.6787 15.1663 7.9987C15.1663 4.3187 12.1797 1.33203 8.49301 1.33203ZM8.49967 13.332C5.55301 13.332 3.16634 10.9454 3.16634 7.9987C3.16634 5.05203 5.55301 2.66536 8.49967 2.66536C11.4463 2.66536 13.833 5.05203 13.833 7.9987C13.833 10.9454 11.4463 13.332 8.49967 13.332Z"
												fill="#A26700"
											/>
										</svg>
										<span
											>You can add only a maximum of 5 screenshots under one topic. Remove an existing screenshot to add
											another one.</span
										>
									</div>

									<div class="screenshot-box-wrap">
										<div class="screenshot-box" *ngIf="previewImage">
											<input
												type="text"
												class="convo-input"
												disabled="true"
												name="title"
												placeholder="Add a description..."
											/>
											<div class="screenshot-wrap">
												<span class="spinner-overlay"></span>
												<span class="spinner-wrap"><span class="spinner"></span></span>
												<img [src]="previewImage" alt="" />
											</div>
										</div>
										<div class="screenshot-box" *ngFor="let conv of conversation?.screenShots; let i = index">
											<input
												type="text"
												class="convo-input"
												(ngModelChange)="changeInTitle($event, i)"
												[ngModel]="conv?.title"
												[defaultValue]="conv?.title"
												name="title"
												maxlength="120"
												[appFocusInput]="true"
												placeholder="Add a description..."
											/>
											<div class="screenshot-wrap">
												<button
													class="delete-btn"
													(click)="openDeleteScreenshot($event, i); showDeleteScreenshotPopup = true"
													data-cs-id="e7db4755-4928-49e5-be72-50d245509e4e"
													data-cs-label="Delete screenshot"
													data-cs-source="dialog"
												>
													<svg
														width="21"
														height="20"
														viewBox="0 0 21 20"
														fill="none"
														xmlns="http://www.w3.org/2000/svg"
													>
														<path
															d="M5.00326 15.8333C5.00326 16.75 5.75326 17.5 6.66992 17.5H13.3366C14.2533 17.5 15.0033 16.75 15.0033 15.8333V5.83333H5.00326V15.8333ZM6.66992 7.5H13.3366V15.8333H6.66992V7.5ZM12.9199 3.33333L12.0866 2.5H7.91992L7.08659 3.33333H4.16992V5H15.8366V3.33333H12.9199Z"
															fill="white"
														/>
													</svg>
												</button>
												<div
													class="delete-screenshot-pop"
													*ngIf="showDeleteScreenshotPopup && i === selectedConvScreenshotIndex"
												>
													<button
														class="cancel-delete"
														(click)="
															recordButtonClick($event, null, null, extraRecordEventData, groupProfilePage);
															showDeleteScreenshotPopup = false
														"
														data-cs-id="7c867dd1-9640-4961-a12c-1612a04045c4"
														data-cs-label="Cross"
														data-cs-source="dialog"
													>
														<svg
															width="16"
															height="16"
															viewBox="0 0 16 16"
															fill="none"
															xmlns="http://www.w3.org/2000/svg"
														>
															<path
																d="M12.2005 3.80714C11.9405 3.54714 11.5205 3.54714 11.2605 3.80714L8.00047 7.06047L4.74047 3.80047C4.48047 3.54047 4.06047 3.54047 3.80047 3.80047C3.54047 4.06047 3.54047 4.48047 3.80047 4.74047L7.06047 8.00047L3.80047 11.2605C3.54047 11.5205 3.54047 11.9405 3.80047 12.2005C4.06047 12.4605 4.48047 12.4605 4.74047 12.2005L8.00047 8.94047L11.2605 12.2005C11.5205 12.4605 11.9405 12.4605 12.2005 12.2005C12.4605 11.9405 12.4605 11.5205 12.2005 11.2605L8.94047 8.00047L12.2005 4.74047C12.4538 4.48714 12.4538 4.06047 12.2005 3.80714V3.80714Z"
																fill="#707084"
															/>
														</svg>
													</button>
													<div class="delete-screenshot-pop-content">
														<h6>Are you sure you want to remove this screenshot?</h6>
														<button
															class="remove-screenshot-btn"
															(click)="deleteScreenshot($event); showDeleteScreenshotPopup = false"
															data-cs-id="7c2cea1b-64a9-431a-a9da-1b8c8b75f4ed"
															data-cs-label="Remove"
															data-cs-source="dialog"
														>
															<svg
																width="21"
																height="20"
																viewBox="0 0 21 20"
																fill="none"
																xmlns="http://www.w3.org/2000/svg"
															>
																<path
																	d="M5.50033 15.8333C5.50033 16.75 6.25033 17.5 7.16699 17.5H13.8337C14.7503 17.5 15.5003 16.75 15.5003 15.8333V5.83333H5.50033V15.8333ZM7.16699 7.5H13.8337V15.8333H7.16699V7.5ZM13.417 3.33333L12.5837 2.5H8.41699L7.58366 3.33333H4.66699V5H16.3337V3.33333H13.417Z"
																	fill="white"
																/>
															</svg>
															<span>Remove</span>
														</button>
													</div>
												</div>
												<img [src]="conv.screenShotUrl" alt="" />
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Remove Topic Modal -->
<div class="modal file-alert delete-topic-modal" *ngIf="showDeleteConversationModal">
	<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-sm">
		<div class="modal-content">
			<div class="modal-header">
				<button
					data-dismiss="modal"
					(click)="closeDeleteTopicModal($event)"
					data-cs-id="5a746b3c-692e-479f-8b97-b814178c910f"
					data-cs-label="Back"
					data-cs-source="dialog"
				>
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path
							d="M19.0005 10.9988H7.83047L12.7105 6.11875C13.1005 5.72875 13.1005 5.08875 12.7105 4.69875C12.3205 4.30875 11.6905 4.30875 11.3005 4.69875L4.71047 11.2888C4.32047 11.6788 4.32047 12.3087 4.71047 12.6987L11.3005 19.2888C11.6905 19.6788 12.3205 19.6788 12.7105 19.2888C13.1005 18.8988 13.1005 18.2687 12.7105 17.8787L7.83047 12.9987H19.0005C19.5505 12.9987 20.0005 12.5487 20.0005 11.9988C20.0005 11.4488 19.5505 10.9988 19.0005 10.9988Z"
							fill="#707084"
						/>
					</svg>
				</button>
				<h5 class="modal-title">Remove topic</h5>
				<button
					type="button"
					data-dismiss="modal"
					data-cs-id="b196f3c4-75b5-448f-bd3c-bdd103515f33"
					data-cs-label="Cross"
					data-cs-source="dialog"
					(click)="closeDeleteTopicModal($event)"
					class="close"
					aria-label="Close"
				>
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<p>
					Are you sure you want to remove <strong>{{ conversation?.topicName }}</strong> topic?
				</p>
			</div>
			<div class="modal-footer border-0">
				<button
					type="button"
					class="btn btn-cancel convo-btn-bordered"
					data-dismiss="modal"
					data-cs-id="ea33187e-d52b-4934-b2b1-a1ced4e5d3f7"
					data-cs-label="Cancel"
					data-cs-source="dialog"
					(click)="closeDeleteTopicModal($event)"
				>
					Cancel
				</button>
				<button
					type="button"
					class="btn convo-btn-danger"
					data-cs-id="4c833271-2179-4c2d-8644-c2b0abe0e97b"
					data-cs-label="Remove"
					data-cs-source="dialog"
					(click)="deleteTopicModel($event, selectedIndex)"
					data-dismiss="modal"
				>
					Remove
				</button>
			</div>
		</div>
	</div>
</div>

<!-- Sample conversations modal -->
<div class="modal file-alert sample-conversation-modal" *ngIf="showSampleConversations">
	<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Sample conversation screenshots with topics</h5>
				<button
					type="button"
					(click)="closeSampleConversations($event)"
					data-cs-id="a663ef39-8c2e-4dc5-824e-4b3f1c77fed8"
					data-cs-label="Close"
					data-cs-source="dialog"
				>
					<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path
							d="M9.77816 0.229428C9.48237 -0.0663631 9.00455 -0.0663631 8.70876 0.229428L5 3.9306L1.29124 0.221843C0.99545 -0.0739477 0.517634 -0.0739477 0.221843 0.221843C-0.0739477 0.517634 -0.0739477 0.99545 0.221843 1.29124L3.9306 5L0.221843 8.70876C-0.0739477 9.00455 -0.0739477 9.48237 0.221843 9.77816C0.517634 10.0739 0.99545 10.0739 1.29124 9.77816L5 6.0694L8.70876 9.77816C9.00455 10.0739 9.48237 10.0739 9.77816 9.77816C10.0739 9.48237 10.0739 9.00455 9.77816 8.70876L6.0694 5L9.77816 1.29124C10.0664 1.00303 10.0664 0.517634 9.77816 0.229428Z"
							fill="#707084"
						/>
					</svg>
				</button>
			</div>
			<div class="topic-head">
				<svg width="32" height="39" viewBox="0 0 32 39" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M1.49198e-06 26.5688L5.60676 25.3718C2.76066 7.96728 16.5613 -4.00393 32 1.24557C19.4071 0.324464 6.6413 9.99368 11.2987 24.727L16.8187 23.622L10.177 39L1.49198e-06 26.5688Z"
						fill="#707084"
					/>
				</svg>
				<span>
					This is how <strong>featured conversations</strong> appear in your group profile. Tap on a topic name.
				</span>
			</div>
			<div class="modal-body p-0">
				<div class="profile-card-body">
					<div class="featured-conversations-posts-wrap">
						<div [class.featured-conversation-disabled]="!groupProfilePage.showFeatureConversation">
							<div class="pills-wrap">
								<ng-container>
									<button
										class="pill"
										[class.active]="selectedSamplePills === 0"
										data-target="#show-tag-modal"
										data-toggle="modal"
										data-cs-id="69142c96-e31e-4505-ad11-4f08e8b0f986"
										data-cs-label="Recipe contest"
										data-cs-source="page"
										(click)="selectSampleConvToDisplay($event, 0)"
									>
										Recipe contest
									</button>
								</ng-container>
								<ng-container>
									<button
										class="pill"
										[class.active]="selectedSamplePills === 1"
										data-target="#show-tag-modal"
										data-toggle="modal"
										data-cs-id="69142c96-e31e-4505-ad11-4f08e8b0f986"
										data-cs-label="Cooking"
										data-cs-source="page"
										(click)="selectSampleConvToDisplay($event, 1)"
									>
										Cooking
									</button>
								</ng-container>
								<ng-container>
									<button
										class="pill"
										[class.active]="selectedSamplePills === 2"
										data-target="#show-tag-modal"
										data-toggle="modal"
										data-cs-id="88260825-ac0e-4b2d-bcd5-703e1b4cb2e6"
										data-cs-label="Breastfast recipes"
										data-cs-source="page"
										(click)="selectSampleConvToDisplay($event, 2)"
									>
										Breastfast recipes
									</button>
								</ng-container>
							</div>
							<ul class="list-unstyled">
								<li *ngFor="let convScreenShot of sampleConversations[selectedSamplePills]; let i = index">
									<ng-container>
										<img
											[src]="convScreenShot?.screenShotUrl"
											(click)="openImageGallery($event, i, sampleConversations[selectedSamplePills])"
											data-cs-id="bd3cea9f-35b7-4674-afea-8e7ca119531c"
											data-cs-label="See screenshots"
											data-cs-source="page"
											alt=""
											class="screenshot-img"
										/>
									</ng-container>
								</li>
							</ul>

							<div class="conversation-panel">
								<button
									class="convo-btn-primary convo-btn-normal screenshot-btn"
									data-cs-id="144c9ca7-d2de-4c78-9f2c-690d56bf3c41"
									data-cs-label="See screenshots"
									data-cs-source="page"
									(click)="openImageGallery($event, selectedSamplePills, sampleConversations[selectedSamplePills])"
								>
									<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path
											d="M10.0391 2L11.5724 3.53333L9.64573 5.44667L10.5924 6.39333L12.5057 4.46667L14.0391 6V2H10.0391ZM2.03906 6L3.5724 4.46667L5.48573 6.39333L6.4324 5.44667L4.50573 3.53333L6.03906 2H2.03906V6ZM6.03906 14L4.50573 12.4667L6.4324 10.5533L5.48573 9.60667L3.5724 11.5333L2.03906 10V14H6.03906ZM14.0391 10L12.5057 11.5333L10.5924 9.60667L9.64573 10.5533L11.5724 12.4667L10.0391 14H14.0391V10Z"
											fill="white"
										/>
									</svg>
									<span>See screenshots</span>
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
